# 自定义计分板成就

之所以把自定义计分板成就单独拎出来说，完全是因为计分板成就是所有成就类型中自由度最高的一类，每一个不同的计分板名称，就是一个不同的成就类型。同时，计分板支持`简单的模板语法`，`布尔表达式`，`正则表达式`，通过这三种的组合的使用，可以达到很多的效果，配合其他计分板插件，可以做到无缝对接，接下来会简单讲解一下该如何使用。



## 模板语法

插件很多其他地方都用到了模板语法，例如菜单文件，语言文件等等。

**占位符**：`${}`，跟js的模板字符串类似，区别在于不管里面填什么都会被替换掉，模板参数是一个数组，填入什么值仅取决于位置，不过为了更加语义化，通常会里面填写相应的字符串。

例子:

```
"This is a ${}"
"This is a ${name}"
//传入值 "plugin"
//两者结果相同
"This is a plugin"
```

**参数个数多于占位符个数**

```
"This is a ${}"
//传入参数 my,plugin
//结果
"This is a my"
```

**参数个数少于占位符个数**

```
"This is a ${} ${}"
//传入 plugin
//结果
"This is a plugin plugin"
```



## 布尔表达式

支持的符号有:

- `&`
- `|`
- `=`
- `<`
- `>`
- `%`
- `+`
- `-`
- `/`
- `*`
- `!`
- `(`
- `)`



## 正则表达式

如果不懂的话，请移步[正则表达式 – 语法 | 菜鸟教程 (runoob.com)](https://www.runoob.com/regexp/regexp-syntax.html)。



## 简单示例

例如游戏内有一个在线时间的计分板，名为`onlineTime`，想要进行一些自定义的成就。

```json
{
  "onlineTime": {
    "enable": true,
    "name": "在线时间",
    "details": {

    },
    "regx":{}

  }
}
```

首先创建好一个成就类型，其中`enable`必须存在，否则将不生效，然后再书写词条。

```json
{
  "onlineTime": {
    "enable": true,
    "name": "在线时间",
    "details": {
      "${}>1000": {
        "enable": true,
        "msg": "新手入门",
        "condition": "在线时间达到1000"
      }
    },
    "regx": {}
  }
}
```

成就词条的`key`就是一个布尔表达式，无论如何必须返回一个布尔值，`true`/`false`。需要注意的是，`key`中**只会传入一个参数**，所以不论有多少个占位符都是同一个值。

来点复杂的:

```json
{
  "onlineTime": {
    "enable": true,
    "name": "在线时间",
    "details": {
      "${}>1000": {
        "enable": true,
        "msg": "新手入门",
        "condition": "在线时间达到1000"
      },
      "(${}>=10000&&${}<=20000)||(${}%2==1)": {
        "enable": true,
        "msg": "不知道什么成就",
        "condition": "奇妙的达成条件"
      }
    },
    "regx":{}

  }
}
```

虽然觉得应该没有人会这么写，但确实是允许的，也是为了举一个例子。

因为是自定义成就，创建过后可以随意删除。
