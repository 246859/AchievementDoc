# 配置文件

::: warning

本页面的JSON为了语义化使用了注释，而一般的JSON规范是不允许使用注释的，谨记不要直接复制粘贴。

:::

```json
{
    "language": "zh_CN",//插件语言
    "display": {//成就完成后的展示
        "scope": 2,//作用范围 2所有人都能看到，1仅个人能看到，0不展示
        "toast": {//成就弹窗
            "enable": true
        },
        "beep": {//提示音
            "enable": true,
            "type": "random.toast",//提示音类型
            "volume": 5, //音量
            "pitchArray": [0.3, 1, 1.5]//音调数组
        },
        "chatBar": {//聊天栏展示
            "enable": true
        }
    },
    "reward": {//成就完成奖励
        "economy": {//经济奖励
            "enable": true,//是否开启
            "type": "score",//经济类型 score | llmoney
            "score": "money",//计分板名称
            "value": 50,//要增加的经济值
        },
        "exp": {//经验奖励
            "enable": true,//是否开启
            "value": 50 //要增加的经验值
        },
        "item": {
            "enable": true,//是否开启
            "type": "minecraft:cooked_beef",//熟牛肉
            "count": 1,//数量
            "lore": ["成就奖励物品"]//物品lore
        }
    },
    "antiShake": 400,//防抖粒度
    ”checkUpdate“:true,//检查更新
    "debug": true,//调试模式
}
```

::: tip

其实每一个属性都已经写了对应的注释，稍微懂点的应该都能看懂了。不过还是要细致的讲一下，之所以讲这么细也完全是为了给自己省事，也请记住文档中写明了的内容，都不会再作任何回答。

:::



## 语言配置项



```json
{
	"language":"zh_CN"
}
```

默认提供两种语言配置，也只会提供两种语言配置，分别是：

- `zh_CN` --- 简体中文
- `en_US` --- 美式英语

如果有其它语言的需求，请移步[自定义语言](../diy/2.diyLang.md)。



## 展示配置项

目前拥有三种展示方式，`聊天栏`，`弹窗`，`提示音` ，展示配置项决定了在完成成就时，将会如何展现给玩家，每一个展示方式均有独立的开关与配置项。不同展示之间的处理是异步的，如果`聊天栏展示`发生异常，`提示音展示`与`弹窗展示`完全不受影响。



### 作用域

```json
{
	"scope": 2
}
```

`scope`为展示作用域，是一个枚举类型，可选的值为:

- `0 --- NONE` 将不会有任何成就展示
- `1 --- PRIVATE ` 所有的成就展示仅个人可见
- `2 --- PUBLIC` 会将成就完成情况播报到聊天栏

默认值为：`2`



### 弹窗展示

```json
{
	"toast": {//弹窗
		"enable": true
	}
}
```

- `enable`即是否开启此配置项，默认开启，开启后完成成就时将会在屏幕上方弹窗展示。



### 提示音展示

```json
{
	"beep": {//提示音
            "enable": true,
            "type": "random.toast",//提示音类型
            "volume": 5, //音量
            "pitchArray": [0.3, 1, 1.5]//音调数组
        }
}
```

- `enable`：是否开启此配置项，默认开启，开启后完成成就时将会播放成就提示音。
- `type`：提示音类型，默认为`random.toast`，可以自定义修改为自己想要的声音类型。
- `volume`：提示音音量，默认为`5`，可以自定义修改为自己想要的音量。
- `pitchArray`：提示音音调，默认为`[0.3,1,1.5]`，完成时将会随机选取一个音调播放。倘若只想保留一个音调，只留下一个数组元素即可 `[0.3]`。

这套配置的效果等同于MC指令`"execute target ~ ~ ~/playsound random.toast @s ~ ~ ~ 5 0.3" `。



### 聊天栏展示 

```json
{
	"chatBar": {//聊天栏展示
            "enable": true
        }
}
```

- `enable`即是否开启此配置项，默认开启，开启后完成成就时将会在聊天栏播报。



## 奖励配置项

目前支持三种奖励方式：`经济`，`物品`，`经验`，均可独立开关与配置，奖励的发放处理是异步的，互相不受影响。



### 经济奖励配置

```json
{
	"economy": {//经济奖励
            "enable": true,//是否开启
            "type": "score",//经济类型 score | llmoney
            "score": "money",//计分板名称
            "value": 50,//要增加的经济值
        },
}
```



- `enable`：是否开启此配置项，默认开启，开启后将会在玩家完成成就时给予对应的经济奖励。

- `type` ：经济类型，仅支持两种类型`score --- 计分板经济`，`llmoney --- LL经济`，填写时务必保持完全一致，默认值为：`score`。

- `score`：经济计分板的名称，如果类型填写了`llmoney`可以忽略此项。

- `value`：增加的经济数值，默认为：`50`。

  

### 经验奖励配置

```json
{
	"exp": {//经验奖励
            "enable": true,//是否开启
            "value": 50 //要增加的经验值
        }
}
```

- `enable`：是否开启此配置项，默认开启，开启后将会在玩家完成成就时给予对应的经验奖励。
- `value`： 增加的经验值，默认值为：`50`。



### 物品奖励配置

```json
{
	"item": {
            "enable": true,//是否开启
            "type": "minecraft:cooked_beef",//熟牛肉
            "count": 1,//数量
            "lore": ["成就奖励物品"]//物品lore
        }
}
```

- `enable`：是否开启此配置项，默认开启，开启后将会在玩家完成成就时给予对应的物品奖励。
- `type`：  物品的MC标准类型名，可以自定义修改为任意物品。
- `count`：物品数量
- `lore`： 物品词条数组



::: warning

奖励物品的类型建议避免与物品获得类成就的触发物品重复，否则会出现给予奖励物品时触发物品获得成就的情况。

:::



## 防抖粒度

```json
{
	"antiShake": 400,//防抖粒度
}
```

在一些事件监听中，玩家会在非常短的时间内多次重复触发一个事件，例如玩家用桶装东西时。为了避免这种情况，插件将会在一个玩家进入一个事件逻辑时，加上一个对应的`tag`，当再次进入事件逻辑中，如果玩家拥有对应的`tag`，则会直接退出事件逻辑。随后异步删除玩家对应的`tag`，而防抖粒度`antiShake`的作用即是决定异步删除`tag`的时延，单位为ms。当防抖粒度为`400ms`时，所代表的含义是每0.4s允许一个玩家进入事件逻辑。**如果看不懂这一段，使用默认配置即可**。



## 检查更新

```json
{
	”checkUpdate“:true,//检查更新
}
```

检查更新并不等同于自动更新，其主要作用是在插件启动时会检查版本是否一致，如果不一致的话，会对比配置文件与语言文件的结构项是否与默认配置一致，主要是配置文件有结构性更新时，或者默认词条库更新时，交给插件去完成更新。

::: tip

检查更新之前，插件会将数据部备份到 `./plugins/temp/`目录下。

:::



## 调试模式

```json
{
	"debug": true,//调试模式
}
```

开启调试模式后，插件将会在`插件初始化文件时`,`玩家触发监听事件时`，`玩家进入成就逻辑判断时`，`成就准备展示时`，`成就奖励准备发放时`这几种情况时输出详细的参数与其他日志。如果打算反馈任何bug，请开启调试模式，提供足够的输出日志。